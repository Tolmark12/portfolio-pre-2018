templates={},templates.about=function(){var t=[];return t.push("<p>About</p>"),t.join("")},templates.contact=function(){var t=[];return t.push("<p>Contact</p>"),t.join("")},templates.ibex=function(){var t=[];return t.push('<div class="meta-data pure-g"><div class="overview pure-u-5-12">Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat.</div><div class="my-role pure-u-1-8"><ul><li>Design</li><li>Illustration</li><li>Photography</li></ul></div><div class="collaborators pure-u-1-8"><ul><li>Neha Tembey - Design</li><li>Jason Campbell - Design</li></ul></div><div class="client pure-u-1-4">Resistance Movement Movie</div></div>'),t.join("")},templates.mfa=function(){var t=[];return t.push('<div class="mfa"><div class="meta-data pure-g"><div class="overview pure-u-5-12">Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor.</div><div class="my-role pure-u-1-4"><ul><li>Design</li><li>Illustration</li></ul></div><div class="client pure-u-1-4">Resistance Movement Movie</div></div><div class="pure-g pure-g"><div class="pure-u-9-24 poster"><img src="/assets/mfa/mfa_poster5.jpg"/></div><div class="pure-u-13-24"><img src="/assets/mfa/books1.jpg"/></div></div></div>'),t.join("")},templates["overlay-nav"]=function(t){var i=[],e=t||{};return function(t){i.push('<div class="overlay-nav"><div class="right"></div><div class="left"></div></div><div class="map">'),function(){var e=t.portfolio;if("number"==typeof e.length)for(var a=0,o=e.length;o>a;a++){var n=e[a];i.push("<div"+jade.attr("onclick","PubSub.publish( 'CHANGE_PAGE', { pageId:'"+n.id+"'} )",!0,!1)+jade.cls(["project",n.id],[null,!0])+"> </div>")}else{var o=0;for(var a in e){o++;var n=e[a];i.push("<div"+jade.attr("onclick","PubSub.publish( 'CHANGE_PAGE', { pageId:'"+n.id+"'} )",!0,!1)+jade.cls(["project",n.id],[null,!0])+"> </div>")}}}.call(this),i.push("</div>")}.call(this,"DataVo"in e?e.DataVo:"undefined"!=typeof DataVo?DataVo:void 0),i.join("")},templates.pagoda_dash=function(){var t=[];return t.join("")},templates.pagoda_site=function(){var t=[];return t.join("")},templates.playmill=function(){var t=[];return t.push('<div class="playmill"><div class="meta-data pure-g"><div class="overview pure-u-5-12">Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat.</div><div class="my-role pure-u-1-4"><ul><li>Design</li><li>Illustration</li></ul></div><div class="client pure-u-1-4">Resistance Movement Movie</div></div><div class="descript">Initial Theatrical Production Announcement Poster - <span>Production began as a play and was later adapted to film. Play centered around BBC Radio Broadcasts.</span></div><div class="play-poster"> <img src="/assets/playmill/all2.jpg"/></div><div class="descript">In Movie Poster Props - <span>Printed and used on  set ito evoke WWII German propaganda posters</span></div><div class="pure-g resist"><div class="pure-u-1-3 lies"></div><div class="pure-u-1-3 enemy"></div><div class="pure-u-1-3 leaflet"></div></div></div>'),t.join("")},templates.portfolio=function(t){var i=[],e=t||{};return function(t){i.push('<div class="portfolio-index">'),function(){var e=t.portfolio;if("number"==typeof e.length)for(var a=0,o=e.length;o>a;a++){var n=e[a];i.push("<div"+jade.attr("onclick","PubSub.publish( 'CHANGE_PAGE', { pageId:'"+n.id+"'} )",!0,!1)+jade.cls(["project",n.id],[null,!0])+"> </div>")}else{var o=0;for(var a in e){o++;var n=e[a];i.push("<div"+jade.attr("onclick","PubSub.publish( 'CHANGE_PAGE', { pageId:'"+n.id+"'} )",!0,!1)+jade.cls(["project",n.id],[null,!0])+"> </div>")}}}.call(this),i.push("</div>")}.call(this,"DataVo"in e?e.DataVo:"undefined"!=typeof DataVo?DataVo:void 0),i.join("")},templates.resistance=function(){var t=[];return t.push('<div class="resistance"><div class="meta-data pure-g"><div class="overview pure-u-5-12">Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. </div><div class="my-role pure-u-1-4"><ul><li>Design</li><li>Illustration</li></ul></div><div class="client pure-u-1-4">Resistance Movement Movie</div></div><div class="play-poster"> <img src="/assets/resistance/walking-by-play-poster-3.jpg"/></div><div class="descript">Initial Theatrical Production Announcement Poster - <span>Production began as a play and was later adapted to film. Play centered around BBC Radio Broadcasts.</span></div><div class="play-poster"> <img src="/assets/resist-play-poster.jpg"/></div><div class="descript">In Movie Poster Props - <span>Printed and used on  set ito evoke WWII German propaganda posters</span></div><div class="pure-g resist"><div class="pure-u-1-3 lies"></div><div class="pure-u-1-3 enemy"></div><div class="pure-u-1-3 leaflet"></div></div></div>'),t.join("")},templates["top-nav"]=function(){var t=[];return t.push('<div class="top-nav"><div data="portfolio" class="logo clickable"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35.138px" height="23.489px" viewbox="0 0 35.138 23.489" style="enable-background: new 0 0 35.138 23.489;" xml:space="preserve"><polygon points="0,23.489 12.762,1.385 25.524,23.489 " class="st1"></polygon><circle cx="31.95" cy="20.302" r="3.188" class="st0"></circle></svg></div><div class="title-block"></div><div class="nav"><a data="portfolio" class="clickable">WORK</a><a data="about" class="clickable">ABOUT</a><a data="contact" class="clickable">CONTACT</a></div></div>'),t.join("")},templates.video=function(t){var i=[],e={},a=t||{};return function(t,a){e.video(t),i.push('<video loop="" autoplay=""><source'+jade.attr("src","assets/"+a+".webm",!0,!1)+' type="video/webm; codecs=&quot;vp8.0, vorbis&quot;"/><source'+jade.attr("src","assets/"+a+".mp4",!0,!1)+' type="video/mp4;codecs=&quot;avc1.42E01E, mp4a.40.2&quot;"/></video>')}.call(this,"file"in a?a.file:"undefined"!=typeof file?file:void 0,"vidName"in a?a.vidName:"undefined"!=typeof vidName?vidName:void 0),i.join("")};var Portfolio;Portfolio=function(){function t(t){this.$el=t,this.build()}return t.prototype.build=function(){return this.nav=new TopNav(this.$el),this.content=new ContentArea($(".content",this.$el)),this.window=new Window,this.overlayNav=new OverlayNav(this.$el)},t}(),Portfolio=Portfolio;var ContentArea;ContentArea=function(){function t(t){this.$el=t,this.$el.css({opacity:0}),PubSub.subscribe("CHANGE_CONTENT",function(t){return function(i,e){return t.changePage(e.pageId)}}(this)),PubSub.subscribe("NEXT_PROJECT",function(t){return function(){return t.nextProject()}}(this)),PubSub.subscribe("PREV_PROJECT",function(t){return function(){return t.prevProject()}}(this))}return t.prototype.changePage=function(t){return t!==this.currentPage?null!=this.currentPage?this.unloadCurrentPage(t):this.loadPage(t):void 0},t.prototype.unloadCurrentPage=function(t){return this.$el.animate({opacity:0},{duration:200,complete:function(i){return function(){return i.loadPage(t)}}(this)})},t.prototype.loadPage=function(t){var i,e;return this.currentPage=t,this.$el.empty(),e=templates[t](),i=$(e),this.$el.append(i),this.$el.animate({opacity:1},{duration:400}),$("html, body").scrollTop(0)},t.prototype.nextProject=function(){var t;return t=DataVo.getIndexOfProject(this.currentPage)+1,t<DataVo.portfolio.length?PubSub.publish("CHANGE_PAGE",{pageId:DataVo.portfolio[t].id}):void 0},t.prototype.prevProject=function(){var t;return t=DataVo.getIndexOfProject(this.currentPage)-1,t>-1?PubSub.publish("CHANGE_PAGE",{pageId:DataVo.portfolio[t].id}):void 0},t}();var DataVo;DataVo=function(){function t(){}return t.pages={"/":{id:"portfolio",title:""},about:{id:"about",title:""},contact:{id:"contact",title:""},portfolio:{id:"portfolio",title:""},resistance:{id:"resistance",title:"Resistance Movement"},ibex:{id:"ibex",title:"Ibex"},playmill:{id:"playmill",title:"Playmill"},mfa:{id:"mfa",title:"MFA Thesis"},pagoda_site:{id:"pagoda_site",title:"Pagoda Box",subtitle:"Front Site"},pagoda_dash:{id:"pagoda_dash",title:"Pagoda Box",subtitle:"Dashboard"}},t.portfolio=[t.pages.resistance,t.pages.playmill,t.pages.mfa,t.pages.pagoda_dash,t.pages.pagoda_site],t.getIndexOfProject=function(i){var e,a,o,n,s;for(s=t.portfolio,e=o=0,n=s.length;n>o;e=++o)if(a=s[e],i===a.id)return e},t.pageIsPortfolioProject=function(t){var i,e,a,o;for(o=this.portfolio,e=0,a=o.length;a>e;e++)if(i=o[e],i.id===t)return!0;return!1},t}();var OverlayNav,__bind=function(t,i){return function(){return t.apply(i,arguments)}};OverlayNav=function(){function t(){this.onScroll=__bind(this.onScroll,this);var t;t=templates["overlay-nav"](),this.$node=$(t),this.$window=$(window),$("body").append(this.$node),this.$node.css({opacity:0}),this.hide(),$(".right",this.$node).on("click",function(){return function(){return PubSub.publish("NEXT_PROJECT")}}(this)),$(".left",this.$node).on("click",function(){return function(){return PubSub.publish("PREV_PROJECT")}}(this)),PubSub.subscribe("CHANGE_CONTENT",function(t){return function(i,e){return t.onChangePage(e.pageId)}}(this))}return t.prototype.onScroll=function(){var t,i;return t=this.$window.scrollTop(),i=this.lastPosition-t,0>t?(this.lastPosition=0,void 0):(i>20?this.show():-1>i&&this.hide(),this.lastPosition=t)},t.prototype.show=function(){return this.isHidden?(this.$node.stop(!0),this.$node.animate({opacity:1},{duration:500}),this.isHidden=!1):void 0},t.prototype.hide=function(){return this.isHidden?void 0:(this.$node.stop(!0),this.$node.animate({opacity:0},{duration:300}),this.isHidden=!0)},t.prototype.onChangePage=function(t){return DataVo.pageIsPortfolioProject(t)?(this.activatePage(t),this.listenForScroll()):(this.hide(),this.stopScrollListening())},t.prototype.activatePage=function(t){var i;return null!=(i=this.activePage)&&i.removeClass("active"),this.activePage=$("."+t,this.$node),this.activePage.addClass("active visited")},t.prototype.stopScrollListening=function(){return this.$window.off("scroll",this.onScroll)},t.prototype.listenForScroll=function(){return this.$window.on("scroll",this.onScroll)},t}();var TopNav;TopNav=function(){function t(t){var i;i=templates["top-nav"](),this.$node=$(i),t.prepend(this.$node),PubSub.subscribe("CHANGE_CONTENT",function(t){return function(i,e){return t.changePageTitleTxt(DataVo.pages[e.pageId].title)}}(this)),PubSub.subscribe("NAV_CLICK",this.onNavItemClick),$(".clickable",this.$node).on("click",function(){return function(i){return t=$(i.currentTarget),PubSub.publish("NAV_CLICK",{id:t.attr("data"),el:t})}}(this))}return t.prototype.onNavItemClick=function(t,i){return PubSub.publish("CHANGE_PAGE",{pageId:i.id})},t.prototype.changePageTitleTxt=function(t){return $(".title-block",this.$node).animate({opacity:0},{duration:200,complete:function(i){return function(){return $(".title-block",i.$node).text(t),$(".title-block",i.$node).animate({opacity:1},{duration:200})}}(this)})},t}();var Window,__bind=function(t,i){return function(){return t.apply(i,arguments)}};Window=function(){function t(){this.onWindowStateChange=__bind(this.onWindowStateChange,this),this.defaultPage="resistance",PubSub.subscribe("CHANGE_PAGE",function(t){return function(i,e){return t.changePage(e)}}(this)),History.Adapter.bind(window,"statechange",this.onWindowStateChange),this.loadInitialPage()}return t.prototype.changePage=function(t){var i;return i=DataVo.pages[t.pageId],History.pushState({page:i.id},i.title,"?page="+i.id)},t.prototype.onWindowStateChange=function(){var t;return t=History.getState(),PubSub.publish("CHANGE_CONTENT",{pageId:t.data.page})},t.prototype.loadInitialPage=function(){var t,i,e;return i=null!=(e=document.URL.split("?")[1])?e.split("=")[1]:void 0,t=null==i?DataVo.pages[this.defaultPage]:DataVo.pages[i],History.replaceState({page:t.id},t.title,"?page="+t.id),this.onWindowStateChange()},t}();var portfolio;portfolio=new Portfolio($(".wrapper"));